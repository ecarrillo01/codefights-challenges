<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Reverse nodes in k groups</title>
</head>

<body>
    <script src="js/linked-list.js?v=3"></script>
    <script>
        let l1 = arrayToListNode([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]);
        let k = 3;

        function reverseNodesInKGroups(l, k) {
            if (k == 1) {
                return l;
            } else {
                let l2 = null;
                let l3=null;
                let prev = null;
                let cnt=0;
                let lastItem=null;
                while (l) {
                    cnt++;
                    prev = l2;
                    l2 = new ListNode(l.value);
                    l2.next = prev;
                    if(cnt==k){
                        cnt=0;
                        if(l3==null){
                            l3=l2;
                        }else{
                            getLastListItem(l3).next=l2;
                        }
                        l2=null;
                    }
                    l = l.next;
                }
                if(l2!=null){
                    getLastListItem(l3).next=reverseListNode(l2);
                }
                return l3;
            }
        }
    </script>
</body>

</html>